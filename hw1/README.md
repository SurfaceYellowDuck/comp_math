Гипотеза:
В различных системах используются разные архитектуры доступа к памяти. В системах с процессором apple silicon m1 используется архитектура UMA(uniform memory access), NUMA(non uniform memory access) в свою очередь используется в Intel Xeon и AMD Opteron. Первая предполагает общую шину данных для всех процессоров, что позволяет каждому ядру процессора иметь одинаковый доступ к каждому участку памяти. Вторая в свою очередь предполагает разделение памяти на несколько узлов между ядрами, что позволяет  уменьшить время доступа к определенному участку памяти, но требует от разработчика учитывать размер блока памяти для каждого ядра.


Для того, чтобы максимально оптимизировать работу с памятью при использовании процессора с архитектурой NUMA используются различные оптимизации. Применительно к задаче, можно подсчитать размеры граничных узлов так, чтобы минимизировать количество операций пересылки данных между ядрами. Например:, при размере строки кэша в 256 байт, 8-байтовых значениях данных и
размере блока 64х64 объем пересылаемых данных 132(64 * 3 * 8 / 256 = 6; 64 / 3 = 22; 6 * 22 = 132) строки кэша, при размере блока. 128х32 – всего 72 строки.

Задача состоит в том, чтобы проверить, ускорит ли данная оптимизация работу программы, если в системе используется процессор с UMA архитектурой.

Условия проведения эксперимента:
ОС: macOS Sonoma 14.4
Чип: Apple Silicon M1
ОЗУ: 16 GB
Размер кэш линии: 128 Байт


Были проведены тестовые запуски программы со следующими параметрами:
https://docs.google.com/spreadsheets/d/1Kr6mBshpPjPIK5w6MVPC9n3UVmfN_N63pcOBlvkAG_U/edit?usp=sharing
Из таблицы видно, что четность размера блока никак не влияет на ускорение работы программы, что не совпадает с информацией, приведенной в книге. Зато была замечена закономерность: при увеличении размера блока без изменения размера сетки происходит существенное ускорение программы. Это связано с тем, что сетка обрабатывается более оптимальным образом, и отношение (количество блоков требующих обработки) /  (количество работающих потоков) стремится к единице.

Таким образом, результаты эксперимента выглядят следующим образом :
- При увеличении размера блока ускорение работы алгоритма  до 1.5-1.6 раза.
- Четность размера блока не влияет на скорость работы программы, эта оптимизация применима только к процессорам с NUMA архитектурой.
- Стоит быть внимательными при увеличении размеров блока. Если размер сетки относительно размера блока будет слишком маленьким, то программа будет выполняться последовательно, или почти последовательно.
